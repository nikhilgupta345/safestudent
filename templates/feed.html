{% extends 'base.html' %}
{% load staticfiles %}
{% load humanize %}

{% block content %}
<div class="jumbotron">
	<h2>Live Feed</h2>
	<h4>You're currently viewing live updates.</h4>

	<hr>

	{% if events %}
	<table class="table table-hover" id="table-feed" name="table-feed">
		<thead>
			<tr>
				<th>Student name</th>
				<th>Scanner</th>
				<th>Time</th>
			</tr>
		</thead>
		<tbody>
			{% for event in events %}
			<tr>
				<td>{{ event.student_first_name }} {{ event.student_last_name }}</td>
				<td>{{ event.scanner_name }}</td>
				<td data-time="{{ event.time|date:"c" }}">{{ event.time|naturaltime }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
	{% else %}
	<h4><b>No updates available.</b></h4>
	{% endif %}
</div>

<script type="text/javascript" src="{% static "js/moment.js" %}"></script>
<script type="text/javascript" src="{% static "js/feed.js" %}"></script>
{% endblock content %}